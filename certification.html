<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.7.4 
 | Rendered using Apache Maven Fluido Skin 1.6
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="Christian Schlichtherle" />
    <meta http-equiv="Content-Language" content="en" />
    <title>TrueLicense &#x2013; Certification Procedure</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.6.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
      <script type="text/javascript" src="./js/apache-maven-fluido-1.6.min.js"></script>
      <!-- Google Analytics -->
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-28191662-1']);
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
      </head>
    <body class="topBarEnabled">
      <div id="topbar" class="navbar navbar-fixed-top ">
      <div class="navbar-inner">
            <div class="container"><div class="nav-collapse">
            <ul class="nav">
        <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Modules <b class="caret"></b></a>
        <ul class="dropdown-menu">
            <li><a href="truelicense-core/index.html" title="TrueLicense Core">TrueLicense Core</a></li>
            <li><a href="truelicense-it/index.html" title="TrueLicense IT">TrueLicense IT</a></li>
            <li><a href="truelicense-jax-rs/index.html" title="TrueLicense JAX-RS">TrueLicense JAX-RS</a></li>
            <li><a href="truelicense-jsf/index.html" title="Truelicense JSF">Truelicense JSF</a></li>
            <li><a href="truelicense-json/index.html" title="TrueLicense JSON">TrueLicense JSON</a></li>
            <li><a href="truelicense-maven-archetype/index.html" title="TrueLicense Maven Archetype">TrueLicense Maven Archetype</a></li>
            <li><a href="truelicense-maven-plugin/index.html" title="TrueLicense Maven Plugin">TrueLicense Maven Plugin</a></li>
            <li><a href="truelicense-obfuscate/index.html" title="TrueLicense @Obfuscate">TrueLicense @Obfuscate</a></li>
            <li><a href="truelicense-swing/index.html" title="TrueLicense Swing">TrueLicense Swing</a></li>
            <li><a href="truelicense-ui/index.html" title="TrueLicense UI">TrueLicense UI</a></li>
        </ul>
      </li>
        <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Documentation <b class="caret"></b></a>
        <ul class="dropdown-menu">
            <li><a href="index.html" title="Welcome!">Welcome!</a></li>
            <li><a href="truelicense-maven-archetype/index.html" title="Getting Started">Getting Started</a></li>
            <li><a href="security.html" title="Security By Design">Security By Design</a></li>
            <li><a href="licensing.html" title="Dual Licensing">Dual Licensing</a></li>
            <li><a href="pricing.html" title="Affordable Pricing">Affordable Pricing</a></li>
            <li><a href="help.html" title="Getting Help">Getting Help</a></li>
            <li><a href="faq.html" title="Frequently Asked Questions">Frequently Asked Questions</a></li>
        </ul>
      </li>
        <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Reports <b class="caret"></b></a>
        <ul class="dropdown-menu">
            <li class="dropdown-submenu">
<a href="project-info.html" title="Project Information">Project Information</a>
              <ul class="dropdown-menu">
                  <li><a href="dependency-convergence.html" title="Dependency Convergence">Dependency Convergence</a></li>
                  <li><a href="dependency-info.html" title="Dependency Information">Dependency Information</a></li>
                  <li><a href="dependency-management.html" title="Dependency Management">Dependency Management</a></li>
                  <li><a href="distribution-management.html" title="Distribution Management">Distribution Management</a></li>
                  <li><a href="issue-tracking.html" title="Issue Management">Issue Management</a></li>
                  <li><a href="plugin-management.html" title="Plugin Management">Plugin Management</a></li>
                  <li><a href="license.html" title="Licenses">Licenses</a></li>
                  <li><a href="plugins.html" title="Plugins">Plugins</a></li>
                  <li><a href="modules.html" title="Project Modules">Project Modules</a></li>
                  <li><a href="project-summary.html" title="Summary">Summary</a></li>
                  <li><a href="team-list.html" title="Team">Team</a></li>
                  <li><a href="source-repository.html" title="Source Code Management">Source Code Management</a></li>
              </ul>
            </li>
            <li class="dropdown-submenu">
<a href="project-reports.html" title="Project Reports">Project Reports</a>
              <ul class="dropdown-menu">
                  <li><a href="apidocs/index.html" title="JavaDocs">JavaDocs</a></li>
                  <li><a href="xref/index.html" title="Source Xref">Source Xref</a></li>
              </ul>
            </li>
        </ul>
      </li>
              </ul>
<form id="search-form" action="https://www.google.com/search" method="get"  class="navbar-search pull-right" >
      <input value="truelicense.net/" name="sitesearch" type="hidden"/>
  <input class="search-query" name="q" id="query" type="text" />
</form>
<script type="text/javascript">asyncJs( 'https://cse.google.com/brand?form=search-form' )</script>
                    <ul class="nav pull-right">
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">External Links <b class="caret"></b></a>
                <ul class="dropdown-menu">
    <li><a href="http://illegalexception.schlichtherle.de" title="Christian's Blog">Christian's Blog</a></li>
                </ul>
              </li>
            </ul>
            </div>
        </div>
      </div>
    </div>
    <div class="container">
      <div id="banner">
        <div class="pull-left"><a href="index.html" id="bannerLeft"><h2><h1 style="color: rgb(51,51,51); font-size: 50px; font-style: oblique; font-variant: small-caps; letter-spacing: 1pt; text-shadow: 5pt 5pt 5pt rgba(0,0,0,.33)">TrueLicen<span style="font-size: 70%">$&euro;</span></h1></h2>
</a></div>
        <div class="pull-right"></div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
        <li class=""><a href="index.html" title="Home">Home</a><span class="divider">/</span></li>
    <li class="active ">Certification Procedure</li>
        </ul>
      </div>
        <div id="bodyColumn" >
<div class="section">
<h2><a name="Certification_Procedure"></a>Certification Procedure</h2>
<p>First, <b>thank you very much for purchasing a commercial license agreement for TrueLicense!</b></p>
<p>To complete your order, we need to cooperate in order to generate a trusted certificate entry in the keystore which is embedded in your product so that it can successfully verify license keys. Don't panic - it's quite simple. This section walks you through the procedure.</p>
<div class="section">
<h3><a name="Prerequisites"></a>Prerequisites</h3>
<p>First, you need to have a license vendor application alias key generator ready for your product.</p>
<p>In case you haven't already done so, please follow the documentation of the <a href="./truelicense-maven-archetype/index.html">TrueLicense Maven Archetype</a> in order to generate a sample project for you. If you have already done this, mind you that you must follow the instructions to <a href="./truelicense-maven-archetype/customizing.html">customize</a> the generated keys and passwords of the sample project. <b>REUSING THE GENERATED KEYS AND PASSWORDS AS IS COMPLETELY VOIDS THE PROTECTION OF YOUR PRODUCT!</b></p></div>
<div class="section">
<h3><a name="Issuing_the_Certificate_Signing_Request"></a>Issuing the Certificate Signing Request</h3>
<p>Next, you need to issue a Certificate Signing Request (CSR). First, change to the <a href="./truelicense-maven-archetype/generating.html">generated sample directory</a>:</p>
<div class="source"><pre class="prettyprint">$ cd $PROJECT</pre></div>
<p>Then submit the following command:</p>
<div class="source"><pre class="prettyprint">$ keytool -certreq -keystore keygen/src/main/resources/private.ks -storetype jceks</pre></div>
<p>Once you've entered the password for the key store, you should see some output like this:</p>
<div class="source"><pre class="prettyprint">-----BEGIN NEW CERTIFICATE REQUEST-----
MIICnDCCAYQCAQAwJzElMCMGA1UEAxMcVHJ1ZUxpY2Vuc2UgMiBTYW1wbGUgUHJvamVjdDCCASIw
DQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAI/j1yvXjrHJOZRDj3fmAygwfevaqoBjBfok+JDV
QTA5Mc60wxWMbOlsQhkdldPXemgpA7UoQRDN/KlOAnDHyjN66RBRVeEe561itYtFBfTBXrnuEoAP
1WPEcDwmS/1uzGLak//PoP/WTE3E4mVAzXJYDiAx7gRL/+k3UiyDKObzZ8ZUSMrd0UvZp/zNxBF/
a26dGlKPXJGPGkO7E7eTgMS6yh4UhCoD6iBufCL8cmmfMT+PkdJHA3+h0cYw7ptqcbFQ22sHgWZ5
VTl54ZeHZMdC8cufT28nxJ11L1y56bI5cbXdEzMYlkJTMnXTlhw+VQntMOhbTOO6ziKHaRH6R4MC
AwEAAaAwMC4GCSqGSIb3DQEJDjEhMB8wHQYDVR0OBBYEFF4Y7LLAhuFIljvLTT5dAHhDIH1WMA0G
CSqGSIb3DQEBCwUAA4IBAQBxTspAnDoefC71uoCQXnWjpvrfDPzfnSV7RqaIZoGx7IHVzB6mlMpJ
2OI/O8mxvsem2hMvX8EeIG/SDOEDkbawq7XflMcfXAguRGHB/t2y8XaN+VayyAhAB/erY9mHF/rd
1md4levKcPUywMpIUWCxkoZyjTXD6U+KcKJaajGnvcHNLsmopl6eIWkksTIlO5B1KJc64NtI0Dl6
ycKY7knnl1V53euX59yhfz3og4vjlQNOSet9uFe0Q2MRY06NVi1uzv9E9rMv0srd18amjB5m8EdC
z5UXVCwHhByE5MCTFs6TdlPZ2tHNUfNNet/clDpfJ2SI/KE8u7Skn9vqHdgr
-----END NEW CERTIFICATE REQUEST-----</pre></div>
<p>Copy-paste this into an email and send it to <tt>sales</tt> AT <tt>schlichtherle</tt> DOT <tt>de</tt>.</p>
<p>Don't worry about security, the CSR just contains your public key, not your private key, so there is no confidential data in it. Actually, you can decode the information in this request if you copy-paste the CSR into the following command:</p>
<div class="source"><pre class="prettyprint">$ keytool -printcertreq -v</pre></div>
<p>You generally need to terminate your input by typing Ctrl-D to signal End-Of-File to the key tool.</p></div>
<div class="section">
<h3><a name="Validating_the_Certificate_Response"></a>Validating the Certificate Response</h3>
<p>Next, you will get an email with the Certificate Response (CR) in the message body which looks like this:</p>
<div class="source"><pre class="prettyprint">----BEGIN CERTIFICATE-----
...
-----END CERTIFICATE-----
-----BEGIN CERTIFICATE-----
...
-----END CERTIFICATE-----</pre></div>
<p>Although not strictly required, it's generally recommended to decode the information in the CSR by copy-pasting it into the following command:</p>
<div class="source"><pre class="prettyprint">$ keytool -printcert -v</pre></div>
<p>You generally need to terminate your input by typing Ctrl-D to signal End-Of-File to the key tool.</p>
<p>Note that the CR contains two certificates: The first certificate contains your public key and is signed by the X.500 principal with the distinguished name <tt>CN=TrueLicense 2, O=Schlichtherle IT Services</tt>. The second certificate contains the public key for signing the first certificate and is signed by the X.500 principal with the distinguished name <tt>CN=Schlichtherle IT Services, OU=Schlichtherle IT Services, O=Schlichtherle IT Services, L=Berlin, ST=Berlin, C=DE</tt>. Because the second certificate is a self-signed certificate, you should check that its serial number and SHA-256 fingerprint match one of the following two entries:</p>
<table border="1" class="table table-striped">
<tr class="a">
<th align="left">Key Algorithm</th>
<th align="left">Serial Number</th>
<th align="left">SHA-256 fingerprint</th></tr>
<tr class="b">
<td align="left">DSA</td>
<td align="left"><tt>76dbe28c</tt></td>
<td align="left"><tt>21:B0:86:6F:E6:DE:9E:DA:A2:E9:50:8B:07:CE:B5:E6:12:87:C7:B6:4D:89:A9:C7:40:B8:63:F7:DB:7D:EB:AA</tt></td></tr>
<tr class="a">
<td align="left">RSA</td>
<td align="left"><tt>ac44e3d</tt></td>
<td align="left"><tt>E1:51:B1:96:6F:79:67:D3:BA:56:D4:B1:D4:F0:D0:12:D5:22:C7:9A:64:2C:DA:77:87:3F:93:91:85:BD:8F:E5</tt></td></tr></table>
<p>You need to confirm this when importing the CR later.</p></div>
<div class="section">
<h3><a name="Importing_the_Certificate_Response_into_the_License_Vendor_Application"></a>Importing the Certificate Response into the License Vendor Application</h3>
<p>Next, you need to import the CR into the key generator. Submit the following command:</p>
<div class="source"><pre class="prettyprint">$ keytool -importcert -keystore keygen/src/main/resources/private.ks -storetype jceks</pre></div>
<p>You generally need to terminate your input by typing Ctrl-D to signal End-Of-File to the key tool. Because the second certificate is self-signed, you need to confirm to trust it - see above.</p>
<p>Now the private key store of the license vendor application contains a private key entry with a private/public key pair which has been signed by TrueLicense 2.</p></div>
<div class="section">
<h3><a name="Importing_the_Certificate_Response_into_the_License_Consumer_Application"></a>Importing the Certificate Response into the License Consumer Application</h3>
<p>Next, you need to recreate the public key store for the key manager. Submit the following commands.</p>
<div class="source"><pre class="prettyprint">$ rm keymgr/src/main/resources/public.ks
$ keytool -exportcert \
    -keystore keygen/src/main/resources/private.ks \
    -storetype jceks \
    -file public.cert
$ keytool -importcert \
    -keystore keymgr/src/main/resources/public.ks \
    -storetype jceks \
    -file public.cert
$ rm public.cert</pre></div>
<p>Now the public key store of the license consumer application contains a trusted certificate key entry with a public key which has been signed by TrueLicense 2.</p>
<p><b>You are now ready to create and sell license keys - congratulations!</b></p></div></div>
        </div>
    </div>
    <hr/>
    <footer>
      <div class="container">
        <div class="row">
            <p class="pull-left">Copyright &copy;2005&#x2013;2017
<a href="http://schlichtherle.de">Schlichtherle IT Services</a>.
All rights reserved.        <li id="publishDate" class="pull-right">Last Published: 2017-09-29</li>
          <li id="projectVersion" class="pull-right">Version: 2.6.6</li>
</p>
        </div>
        <p id="poweredBy" class="pull-right">  <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
  </p>
        </div>
    </footer>
    </body>
</html>
